#!/usr/bin/evn perl
use strict;
use warnings;

use MYDan::Util::OptConf;
use MYDan::Monitor::Make;

$| ++;

my $option = MYDan::Util::OptConf->load();
my %o = $option->get()->dump('monitor');

my $make = MYDan::Monitor::Make->new( %o, option => $option );

while(1)
{
    print "make ...\n";
    my $time = time;
    $make->make();

    my $due = $time + 60 - time;
    sleep $due if $due > 0;
}
